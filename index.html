<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Valerii Chechin - Resume</title>
    <link rel="stylesheet" href="styles.css" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  </head>
  <body>
    <div class="container">
      <!-- Left sidebar -->
      <aside class="sidebar">
        <img src="img/photo.jpg" alt="Valerii Chechin" class="photo" />
        <section class="section contact-info">
          <h2>Contact</h2>
          <p><i class="fas fa-envelope"></i> <span id="email"></span></p>
          <p><i class="fas fa-map-marker-alt"></i> <span id="address"></span></p>
          <p><i class="fas fa-phone"></i> <span id="phone"></span></p>
          <p><i class="fas fa-birthday-cake"></i> <span id="birthdate"></span></p>
          <p><i class="fas fa-flag"></i> <span id="nationality"></span></p>
        </section>
        <section class="section">
          <h2>Skills</h2>
          <ul id="skills"></ul>
        </section>
        <section class="section">
          <h2>Languages</h2>
          <ul id="languages"></ul>
        </section>
        <section class="section">
          <h2>Availability</h2>
          <ul id="availability"></ul>
        </section>
        <section class="section">
          <h2>Driving License</h2>
          <ul id="driving"></ul>
        </section>
      </aside>

      <!-- Main content -->
      <div class="main-content">
        <header>
          <h1 id="name"></h1>
          <p id="specialization"></p>
        </header>

        <section class="section">
          <h2>Professional Experience</h2>
          <div id="experience-list"></div>
        </section>

        <section class="section">
          <h2>Education</h2>
          <h3 id="education-degree"></h3>
          <p><strong id="education-university"></strong> - <span id="education-location"></span></p>
          <p><em id="education-dates"></em></p>
        </section>

        <section class="section">
          <h2>Certifications & Courses</h2>
          <ul id="certifications"></ul>
        </section>

        <section class="section">
          <h2>Selected Projects</h2>
          <ul id="projects"></ul>
        </section>
      </div>
    </div>

    <script>
      fetch('data_en.json')
        .then(response => response.json())
        .then(data => {
          // Contact
          document.getElementById('email').textContent = data.contact.email;
          document.getElementById('address').textContent = data.contact.address;
          document.getElementById('phone').textContent = data.contact.phone;
          document.getElementById('birthdate').textContent = data.contact.birthdate;
          document.getElementById('nationality').textContent = data.contact.nationality;

          // Header
          document.getElementById('name').textContent = data.name;
          document.getElementById('specialization').textContent = data.specialization;

          // Lists
          const fillList = (id, items) => {
            const ul = document.getElementById(id);
            items.forEach(item => {
              const li = document.createElement('li');
              li.textContent = item;
              ul.appendChild(li);
            });
          };

          fillList('skills', data.skills);
          fillList('languages', data.languages);
          fillList('availability', data.availability);
          fillList('driving', data.driving);
          fillList('certifications', data.certifications);

          // Projects
          const projectsUl = document.getElementById('projects');
          data.projects.forEach(proj => {
            const li = document.createElement('li');
            const a = document.createElement('a');
            a.href = proj.url;
            a.className = 'project-link';
            a.target = '_blank';
            a.textContent = proj.title;
            li.appendChild(a);
            projectsUl.appendChild(li);
          });

          // Experience
          const expList = document.getElementById('experience-list');
          data.experience.forEach(job => {
            const jobDiv = document.createElement('div');
            jobDiv.className = 'job-entry';

            const title = document.createElement('h3');
            title.textContent = job.title;
            jobDiv.appendChild(title);

            const company = document.createElement('p');
            company.innerHTML = `<strong>${job.company}</strong> - ${job.location}`;
            jobDiv.appendChild(company);

            const dates = document.createElement('p');
            dates.innerHTML = `<em>${job.dates}</em>`;
            jobDiv.appendChild(dates);

            const tasksUl = document.createElement('ul');
            job.tasks.forEach(task => {
              const li = document.createElement('li');
              li.textContent = task;
              tasksUl.appendChild(li);
            });
            jobDiv.appendChild(tasksUl);

            if (job.subtitle) {
              const subtitle = document.createElement('p');
              subtitle.className = 'job-subtitle';
              subtitle.textContent = job.subtitle;
              jobDiv.appendChild(subtitle);

              const subtasksUl = document.createElement('ul');
              subtasksUl.className = 'subtasks';
              job.subtasks.forEach(sub => {
                const li = document.createElement('li');
                li.textContent = sub;
                subtasksUl.appendChild(li);
              });
              jobDiv.appendChild(subtasksUl);
            }

            if (job.subtitle2) {
              const subtitle2 = document.createElement('p');
              subtitle2.className = 'job-subtitle';
              subtitle2.textContent = job.subtitle2;
              jobDiv.appendChild(subtitle2);

              const subtasksUl2 = document.createElement('ul');
              subtasksUl2.className = 'subtasks';
              job.subtasks2.forEach(sub => {
                const li = document.createElement('li');
                li.textContent = sub;
                subtasksUl2.appendChild(li);
              });
              jobDiv.appendChild(subtasksUl2);
            }

            expList.appendChild(jobDiv);
          });

          // Education
          document.getElementById('education-degree').textContent = data.education.degree;
          document.getElementById('education-university').textContent = data.education.university;
          document.getElementById('education-location').textContent = data.education.location;
          document.getElementById('education-dates').textContent = data.education.dates;
        })
        .catch(err => console.error('Error loading data:', err));
    </script>
  </body>
</html>